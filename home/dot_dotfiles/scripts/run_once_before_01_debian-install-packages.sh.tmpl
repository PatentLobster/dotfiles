#!/bin/bash
{{ if and (eq .chezmoi.os "linux") (eq .chezmoi.osRelease.idLike "debian")  }}


source {{ joinPath .chezmoi.sourceDir "/dot_dotfiles/scripts/common.sh" | quote }}


# Debian-specific code
lobster

info "Installing deps ðŸš€"
sudo apt update
sudo apt install -y wget curl tmux zsh zoxide python3-dev python3-pip python3-setuptools snapd fzf

{{ if eq .chezmoi.arch "amd64" }}
    install_brew
    info "Installing brew packages ðŸ“¦"
    wget https://github.com/Peltoche/lsd/releases/download/$(get_latest_release "Peltoche/lsd")/lsd-musl_$(get_latest_release "Peltoche/lsd" | cut -c2- )_amd64.deb -O /tmp/lsd.deb
    brew install thefuck lolcat
{{ else }}
    wget https://github.com/Peltoche/lsd/releases/download/$(get_latest_release "Peltoche/lsd")/lsd-musl_$(get_latest_release "Peltoche/lsd" | cut -c2- )_arm64.deb -O /tmp/lsd.deb
    pip3 install thefuck --user
    snap install lolcat
{{ end }}

sudo dpkg -i /tmp/lsd.deb


{{ end }}